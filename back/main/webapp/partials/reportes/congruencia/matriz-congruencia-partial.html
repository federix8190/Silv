<br><div class="wizard"><ul class="wizard-breadcrumbs"><li class="active"><a>Índice de Congruencia <span class="badge">1</span></a></li></ul></div><br><div class="row"><nav class="col-md-3"><div class="form-wrapper"><div class="top-block"><h2 class="title-top">Filtros</h2><p>Criterios de filtrado aplicables a la matriz de congruencia.</p></div><div class="form"><div class="form-group"><label class="control-label">Año :</label> <input type="number" onkeypress="return event.charCode >= 48" min="0" class="form-control" ng-model="filtros.anho" ng-keypress="aplicarFiltros($event)"></div><div class="form-group"><label class="control-label">Mes :</label> <select class="form-control" ng-model="filtros.mes"><option value="1">Enero</option><option value="2">Febrero</option><option value="3">Marzo</option><option value="4">Abril</option><option value="5">Mayo</option><option value="6">Junio</option><option value="7">Julio</option><option value="8">Agosto</option><option value="9">Septiembre</option><option value="10">Octubre</option><option value="11">Noviembre</option><option value="12">Diciembre</option></select></div><div class="form-group"><label class="control-label">Vinculación :</label> <select class="form-control" ng-model="filtros.vinculacion" data-ng-options="vinculacion for vinculacion in listaVinculaciones track by vinculacion"></select></div><div class="form-group"><label class="control-label">Concepto Pago :</label> <select class="form-control" ng-model="conceptoSelected" ng-change="onChangeConcepto()" multiple="multiple"><option ng-repeat="concepto in listaConceptos">{{concepto}}</option></select></div><div class="form-group"><label class="control-label">Programa :</label> <select id="programa" type="text" class="form-control" data-ng-options="programa for programa in listaProgramas track by programa" ng-model="filtros.programa"></select></div><div class="form-group"><label class="control-label">Subprograma :</label> <select id="subprograma" type="text" class="form-control" data-ng-options="subprograma for subprograma in listaSubProgramas track by subprograma" ng-model="filtros.subprograma"></select></div><div class="form-group"><label class="control-label">CPT EF:</label> <select name="cpt_ef" type="text" class="form-control" ng-options="cpt_ef.den for cpt_ef in listaCptF" ng-model="cpt_ef" ng-change="onChangeCptF(cpt_ef)"></select></div><div class="form-group"><label class="control-label">CPT:</label> <select name="cpt" type="text" class="form-control" ng-options="cptFiltro.denominacion for cptFiltro in listaCpt" ng-model="cptFiltro" ng-change="onChangeCpt(cptFiltro)"></select></div><div class="form-group" ng-show="esHacienda != true"><label class="control-label">CPT EE:</label> <select name="cptee" type="text" class="form-control" ng-options="cptee.denominacion for cptee in listaCptee" ng-model="cptee" ng-change="onChangeCptee(cptee)"></select></div><div ng-if="!esHacienda" class="form-group"><label class="ambitoCptE">Ámbito:</label> <select id="ambitoCptE" name="ambitoCptE" type="text" class="form-control" ng-options="ambito for ambito in listaAmbitos track by ambito" ng-model="filtros.ambitoCptE" ng-init='filtros.ambitoCptE="TODOS"'></select></div><div class="form-group"><label class="control-label">CEO:</label> <select name="ceo" type="text" class="form-control" ng-options="ceo.denominacion for ceo in listaCeo" ng-model="ceo" ng-change="onChangeCeo(ceo)"></select></div><hr><a class="btn btn-default" ng-click="aplicarFiltrosBtn()"><i class="fa fa-check"></i>&nbsp;Aplicar</a></div></div></nav><section class="col-md-9"><section class="form-wrapper"><div class="top-block"><h2 class="title-top">Índice de Congruencia Puesto-Remuneración</h2><p>Distribución de la planta según niveles estimados de puestos y tramos salariales. Los datos son clasificados teniendo en cuenta los criterios de Clasificación de puestos de trabajo y Clasificación de categorías o grados de las personas.</p></div><div class="search-info" ng-if="loading==null"><img src="./images/busqueda.svg"></div><loading ng-if="loading == true"></loading><table id="matriz" class="matriz-congruencia" ng-if="loading ==  false"><thead><tr><th colspan="{{cpt.length +2}}">NIVELES DE PUESTOS (CPT)</th><th colspan="2">PUESTOS OCUPADOS SEGÚN TRAMOS SALARIALES</th></tr><tr><th colspan="2"></th><th colspan="2">APOYO ADMINISTRATIVO Y OPERATIVO</th><th colspan="2">JEFATURAS MENORES Y PUESTOS TECNICOS</th><th colspan="2">JEFATURAS INTERMEDIAS Y PUESTOS PROFESIONALES</th><th colspan="2">JEFATURAS SUPERIORES Y ASESORAMIENTOS</th><th colspan="2">CONDUCCIÓN SUPERIOR</th><th colspan="2"></th></tr><tr><th colspan="2"></th><th ng-repeat="c in cpt"><a>{{c.key}}</a></th><th rowspan="2">Cantidad</th><th rowspan="2">%</th></tr></thead><tbody><tr ng-repeat="c in cts.rows"><td class="tramos" ng-if="c.numeroTramo == maximoTramo" rowspan="{{cts.count}}"><div>TRAMOS SALARIALES (CTS)</div></td><td style="width: 5%"><a style="font-size: 15px;" class="tooltip">{{c.numeroTramo}}</a> <span class="tooltiptext">Mínimo: {{c.minimo}} Máximo: {{c.maximo}}</span></td><td class="cnt-{{matriz[c.numeroTramo][i.key].congruente}}" ng-repeat="i in cpt | orderBy:sorterFunc"><a ng-if="matriz[c.numeroTramo][i.key].cantidad == 0" class="cnt-{{matriz[c.numeroTramo][i.key].congruente}}">0 </a><a ng-if="matriz[c.numeroTramo][i.key].cantidad != 0" class="cnt-{{matriz[c.numeroTramo][i.key].congruente}}" href="{{links[c.numeroTramo][i.key]}}" test="{{c.numeroTramo}} - {{i.key}}" target="_blank">{{matriz[c.numeroTramo][i.key].cantidad | number}}</a></td><td>{{total.tramo[c.numeroTramo]["cnt"] | number}}</td><td>{{total.tramo[c.numeroTramo]["p"] | number:2 }}%</td></tr></tbody><tfoot><tr><td colspan="2">PUESTOS</td><td ng-repeat="c in cpt">{{total.nivel[c.key].cnt | number}}</td><td>{{total.nivel.cnt | number}}</td><td>100%</td></tr><tr><td colspan="2"></td><td colspan="2">{{total.nivel[1].cnt + total.nivel[2].cnt}}</td><td colspan="2">{{total.nivel[3].cnt + total.nivel[4].cnt}}</td><td colspan="2">{{total.nivel[5].cnt + total.nivel[6].cnt}}</td><td colspan="2">{{total.nivel[7].cnt + total.nivel[8].cnt}}</td><td colspan="2">{{total.nivel[9].cnt + total.nivel[10].cnt}}</td><td></td><td></td></tr><tr><td colspan="2">CONGRUENCIA %</td><td ng-repeat="c in cpt track by $index" style="background-color: {{getColorCongruenteNivel($index, c.key)}};
                                color:{{getTextColorCongruenteNivel($index, c.key)}};">{{congruencia[$index+1] / total.nivel[c.key].cnt * 100 | number : 1}}%</td><td></td><td></td></tr></tfoot></table><div><footer-tabla><h5>Descargar:</h5><a ng-click="generarReporte()"><i type="button" id="export" class="fa fa-file-excel-o"></i> EXCEL </a><input type="button" onclick="tableToExcel('matriz-2', 'Congruencia')" value="Export to Excel"></footer-tabla></div><hr><table ng-if="loading ==  false" style="width:50%; display: inline-block;"><thead class="matriz-congruencia"><tr><th rowspan="2">CONDICION</th><th colspan="2">PUESTOS</th></tr><tr><th>CANTIDAD</th><th>%</th></tr></thead><tbody><tr><td>Sobre categorización</td><td align="center">{{sobreCategorizados | number}}</td><td align="center" style="color: {{textColorSobreCategorizados}}; 
                            background-color: {{colorSobreCategorizados}};">{{porcentajeSobreCategorizados}}</td></tr><tr><td>Dentro de rango</td><td align="center">{{congruentes | number}}</td><td align="center" style="color: {{textColorCongruentes}}; 
                            background-color: {{colorCongruentes}};">{{porcentajeCongruentes}}</td></tr><tr><td>Sub categorización</td><td align="center">{{subCategorizados | number}}</td><td align="center" style="color: {{textColorSubCategorizados}}; 
                            background-color: {{colorSubCategorizados}};">{{porcentajeSubCategorizados}}</td></tr><tr><td>TOTAL PUESTOS:</td><td align="center">{{totalMatriz | number}}</td><td align="center" style="background-color: gray;">100,0</td></tr></tbody></table><table ng-if="loading ==  false" style="width:30%; display: inline-block; margin-left:40px"><thead class="matriz-congruencia"><tr><th style="padding:15px;" colspan="3">CRITERIOS DE EVALUACION (%)</th></tr></thead><tbody><tr><td style="background-color: red; padding-left:15px;"><font color="white">&gt; 25</font></td><td style="background-color: yellow; padding-left:15px;"><font color="black">25 a 10</font></td><td style="background-color: #00ff00; padding-left:15px;"><font color="black">&lt; 10</font></td></tr><tr><td style="background-color: red; padding-left:15px;"><font color="white">&lt; 50</font></td><td style="background-color: yellow; padding-left:15px;"><font color="black">50 a 80</font></td><td style="background-color: #00ff00; padding-left:15px;"><font color="black">> 80</font></td></tr><tr><td style="background-color: red; padding-left:15px;"><font color="white">&gt; 25</font></td><td style="background-color: yellow; padding-left:15px;"><font color="black">25 a 10</font></td><td style="background-color: #00ff00; padding-left:15px;"><font color="black">&lt; 10</font></td></tr></tbody></table></section></section><table id="matriz-2" style="display:none;"><thead><tr><th colspan="{{cpt.length +2}}">NIVELES DE PUESTOS (CPT)</th><th colspan="2">PUESTOS OCUPADOS SEG&uacute;N TRAMOS SALARIALES</th></tr><tr><th>Tramo</th><th ng-repeat="c in cpt"><a>{{c.key}}</a></th><th>Cnt</th><th>%</th></tr></thead><tbody><tr ng-repeat="c in cts.rows"><td>{{c.numeroTramo}}</td><td bgcolor="{{matriz[c.numeroTramo][i.key].bgColor}}" ng-repeat="i in cpt | orderBy:sorterFunc">{{matriz[c.numeroTramo][i.key].cantidad | number}}</td></tr></tbody></table></div>